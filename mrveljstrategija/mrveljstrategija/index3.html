
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/StyleSheet1.css" />
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>

        var c;
        var ctx;
        $(document).ready(function ()
        {
             c = document.getElementById("myCanvas");
             ctx = c.getContext("2d");
        });

        var tablica4bez_znakova =
            [
                              ["0","0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"],
                              ["0","X", "2", "3", "4", "5", "5", "5", "5", "3", "3", "3", "4", "4", "4", "2", "2", "2"],
                              ["0","1,5", "X", "5,1", "4,1", "5,1", "1,5", "5,1", "5,1", "4,1,5", "5,4,1", "1,4,5", "4,1", "4,1", "1,4", "15", "16", "17"],
                              ["0","1", "4,1,5", "X", "4,1", "5,1", "5,1", "5,1", "5", "9", "10", "11", "4,1", "1,4", "4,1", "5,1,4", "5,1,4", "4,1,5"],
                              ["0","1,2,3", "2,1", "3,1", "X", "3,1,2", "3,2,1", "2,1,3", "2,1,3", "3,1", "3", "3,1", "12", "13", "14", "1,2", "2,1", "2,1"],
                              ["0","1,3", "2,1", "3,1", "2,1,3", "X", "6", "7", "8", "3", "3,1", "3,1", "2,1,3", "2,3,1", "2,1,3", "2", "2,1", "2"],
                              ["0","5", "5", "5", "5", "5", "X", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5"],
                              ["0","5", "5", "5", "5", "5", "5", "X", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5"],
                              ["0","5", "5", "5", "5", "5", "5", "5", "X", "5", "5", "5", "5", "5", "5", "5", "5", "5"],
                              ["0","3", "3", "3", "3", "3", "3", "3", "3", "X", "3", "3", "3", "3", "3", "3", "3", "3"],
                              ["0","3", "3", "3", "3", "3", "3", "3", "3", "3", "X", "3", "3", "3", "3", "3", "3", "3"],
                              ["0","3", "3", "3", "3", "3", "3", "3", "3", "3", "3", "X", "3", "3", "3", "3", "3", "3"],
                              ["0","4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "X", "4", "4", "4", "4", "4"],
                              ["0","4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "X", "4", "4", "4", "4"],
                              ["0","4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "4", "X", "4", "4", "4"],
                              ["0","2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "X", "2", "2"],
                              ["0","2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "X", "2"],
                              ["0","2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "2", "X"],
            ];

               var tablica1bez_znakova =
            [
                              ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
                              ["0", "X", "2,3", "3,2", "3,2", "2,3", "2", "3", "2,3"],
                              ["0", "1,3", "X", "3", "6,3", "5,6", "6,5", "6,5", "5"],
                              ["0", "1", "2", "X", "4", "2", "4,2", "4", "4,2"],
                              ["0", "3", "3,6", "3", "X", "6,3,7", "6", "7,6", "8,7"],
                              ["0", "6,2", "2,6", "2,6", "8,6", "X", "6", "6,8", "8"],
                              ["0", "2,4", "2", "2,4", "4", "5", "X", "7", "7,5"],
                              ["0", "4,6,8", "6", "4,6", "4,6", "6,8", "6,8", "X", "8"],
                              ["0", "5", "5,4", "4,7", "4", "5", "5", "7", "X"]
            ];

			   var tablica2bez_znakova =

[                 ["0", "0", "0", "0", "0","0"],
                  [ "0", "X", "2,3", "3,2", "3,2","3,2"],
                  [ "0", "1", "X", "3", "4,5","5,4"],
                  [ "0", "1,2", "2", "X", "4,2","5,4,2"],
                  [ "0", "3,2", "2,3", "3,2", "X","5"],
                  [ "0", "2,3", "2,4", "3,2,4", "4","X"],

];
               var tablica3bez_znakova =

[                 ["0", "0", "0", "0", "0","0"],
                  [ "0", "X", "3,5", "3", "2","4,3"],
                  [ "0", "1,3,4,5", "X", "3,4,5", "3","5,3"],
                  [ "0", "1,4", "2,4,5", "X", "4","5"],
                  [ "0", "5", "2,5", "3,1", "X","5,2"],
                  [ "0", "1", "2","3","4,3,1","X"],

];
               var tablica1sa_znakovima =
            [
                              ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
                              ["0", "X", "2,3", "3,2", "3,2", "2,3", "2", "3", "2,3"],
                              ["0", "1,3", "X", "3", "6,3", "5,6", "6,5", "6,5", "5"],
                              ["0", "1", "2", "X", "4", "2", "4,2", "4", "4,2"],
                              ["0", "3", "3,6", "3", "X", "6,3,7", "6", "7,6", "8,7"],
                              ["0", "6,2*", "2,6", "2,6", "8,6", "X", "6", "6,8", "8"],
                              ["0", "2*,4", "2", "2,4", "4", "5", "X", "7", "7,5"],
                              ["0", "4,6*,8", "6", "4,6", "4,6", "6,8", "6,8", "X", "8"],
                              ["0", "5", "5,4", "4,7", "4", "5", "5", "7", "X"]
            ];
			   var tablica2sa_znakovima =

[                 ["0", "0", "0", "0", "0","0"],
                  [ "0", "X", "2,3", "3,2", "3,2","3*,2"],
                  [ "0", "1", "X", "3", "4,5","5,4"],
                  [ "0", "1,2", "2", "X", "4,2","5,4,2"],
                  [ "0", "3,2", "2,3", "3,2", "X","5"],
                  [ "0", "2,3", "2,4", "3,2,4", "4","X"],

		];

		    var already_drawn=false;
            var iz_izvorista=false;
            var privremena="";
            var secondselected=false;
			var firstselected=true;
		    var thirdselected=false;
            var X = 0;
            var Y = 0;
            var Value = "";

            var x = 20;
            var y = 20;
            var izvor=0;
            var odrediste=0;

            // Method variables
            //--------------------------------------------------------------
            var checkif2values = [];     //objasnjenje za svaki kasnije
            var checkif2values2= [];
            var mem_tockeX = [];
            var mem_tockeY = [];
            var Memorize_point_X = [];
            var Memorize_point_Y = [];
            var global_destinationX = [];
            var global_destinationY = [];
            var izvorisni_clanovi = [];
            var vrijednost_noda = [];
            var prva_vrijednost = "";
            var xyz = false;
            var angling = 0;
            //--------------------------------------------------------------
            // Method variables

            function Node(x, y, value) {
                X = x;
                Y = y;
                Value = value;
                this.DrawCircleNumber = dar;


            }
            function dar() {
                ctx.beginPath();
                ctx.arc(X + 110, Y + 20, 30, 0, 2 * Math.PI);
                ctx.font = "30px arial";
                ctx.fillText(Value, X + 102, Y + 30);
                ctx.stroke();



            }

            function ConnectionLine(currentX, currentY, nextX, nextY) {

                ctx.moveTo(currentX + 10, currentY + 10);
                ctx.lineTo(nextX + 10, nextY + 10);
                ctx.stroke();
            }


            var next_node;

            function Sekvencialna_Izvor(polje) {

                next_node = new Node(Memorize_point_X[Memorize_point_X.length - 1], Memorize_point_Y[Memorize_point_Y.length - 1], prva_vrijednost);
                next_node.DrawCircleNumber();
                ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 175, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.stroke();
                Memorize_point_X.push(X);
                Memorize_point_Y.push(Y);
                checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                //checkif2values2.push(filldatagrid2[parseInt(prva_vrijednost),odrediste]);
                if (checkif2values[checkif2values.length - 1].length > 1) {
                    var temp = polje[izvor][odrediste];
                    for (j = 1; j < temp.length; j++) {
                        if (temp[j] != ',') {
                            izvorisni_clanovi.push(temp[j].toString());
                        }
                    }
                }
                else if (checkif2values[checkif2values.length - 1] == odrediste.toString()) { return; }
                else if (checkif2values[checkif2values.length - 1].length > 1) {
                    var temporary = Memorize_point_X.pop() - 60;
                    Memorize_point_X.pop();
                    Memorize_point_X.push(temporary);
                    return;
                }
                else {
                    Memorize_point_X.pop();
                    Memorize_point_X.push(X += 94);
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0);
                    Sekvencialna_Izvor(polje);
                }

            }
            function Sekvencialna(polje) {
                do {
                    if (checkif2values[checkif2values.length - 1].length > 1 && checkif2values[checkif2values.length - 1] != polje[izvor][odrediste])
                    {
					 if (Grananje(polje[parseInt(prva_vrijednost)][odrediste]) > 1)
                    {
                        vrijednost_noda.push(checkif2values[checkif2values.length - 1].substring(4, 5));
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    }
                        xyz = true;
                        vrijednost_noda.push(checkif2values[checkif2values.length - 1].substring(2, 3));
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    }
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0, 1);
                    if (prva_vrijednost == "X") break;
                    x = Memorize_point_X[Memorize_point_X.length - 1];
                    y = Memorize_point_Y[Memorize_point_Y.length - 1];


                    next_node = new Node(x + 100, y, prva_vrijednost);
                    next_node.DrawCircleNumber();

                    ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 180, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.stroke();

                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
                    if (prva_vrijednost == odrediste.toString())
                    {
                        global_destinationX.push(X);
                        global_destinationY.push(Y);
                    }
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                    //checkif2values2.push(filldatagrid2[parseInt(prva_vrijednost),odrediste]);
                } while (prva_vrijednost != odrediste.toString());

                //------------------------------------------------------------------------------- Main metoda
                if (vrijednost_noda.length == 0 && xyz == true) { xyz = false; return; }

                for (var k = vrijednost_noda.length - 1; k >= 0; k--)
                {
                    if (mem_tockeX.length != 0 && mem_tockeY.length!=0)
                    {
                        if (vrijednost_noda.length != 0)
                        {
                            next_node = new Node(mem_tockeX[mem_tockeX.length - 1] + 80, global_destinationY[global_destinationY.length - 1] + 90, vrijednost_noda[k]);
                            next_node.DrawCircleNumber();


                            ctx.moveTo(mem_tockeX[mem_tockeX.length-1]+120,mem_tockeY[mem_tockeY.length-1]+45);
                            ctx.lineTo(X+104,Y-7);
                            ctx.stroke();

                            mem_tockeX.pop();
                            mem_tockeY.pop();
                            Memorize_point_X.push(X);
                            Memorize_point_Y.push(Y);
                            prva_vrijednost = vrijednost_noda[k];
                            vrijednost_noda.pop();
                            checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                            Sekvencialna(polje);



                        }
                    }
                }
                if (izvorisni_clanovi.length != 0)
                {
                    next_node = new Node(Memorize_point_X[0] + 55 - angling, Memorize_point_Y[0] + global_destinationY[global_destinationY.length - 1] + 70, izvorisni_clanovi[0]);
                    angling += 20;
                    next_node.DrawCircleNumber();
                    //Conekcija linija Node.ConnectionLine(g, new Point(Memorize_point_X1.First() + 22, Memorize_point_Y1.First() + 28), new Point(next_node.X + 8, next_node.Y + 2));
                    ctx.moveTo(Memorize_point_X[0]+110,Memorize_point_Y[0]+50);
                    ctx.lineTo(X + 100, Y-6);
                    ctx.stroke();
                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
                    prva_vrijednost = izvorisni_clanovi[0];
                    izvorisni_clanovi.shift();
                    mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                    mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                    Sekvencialna(polje);
                }

            }
        //GLAVNE 3 METODE U KOJIMA MJENJAMO PARAMETRE------------------------------------------------------------------------------------------
              function crtajMetodaSekvencialna() 
           {
            prva_vrijednost = izvor.toString();
            Memorize_point_X.push(x);
            Memorize_point_Y.push(y);

			if (firstselected)
			{
             Sekvencialna_Izvor(mrvelj);
             Sekvencialna(mrvelj);
			 adjustOdrediste();
			}
			else if (thirdselected)// tu staviti else if za trecu tablicu
			{
			  Sekvencialna_Izvor(filldatagrid33);
			  Sekvencialna(filldatagrid33);
			  adjustOdrediste();
			}
			else
			{
			 Sekvencialna_Izvor(filldatagrid22);
             Sekvencialna(filldatagrid22);
			 adjustOdrediste();
			}

           }

              function crtajMetodaIzvor()
            {
			 prva_vrijednost = izvor.toString();
             Memorize_point_X.push(x);
             Memorize_point_Y.push(y);
			if (firstselected)
			{

            SekvencialnaIzvorIzvorPrvi(filldatagrid,filldatagridwithstar1);
			SekvencialnaIzvorIzvorDrugi(filldatagrid,filldatagridwithstar1);
		    adjustOdrediste();
			}
			else if (thirdselected)// tu staviti else if za trecu tablicu
			{
			  SekvencialnaIzvorIzvorPrvi(filldatagrid33,filldatagridwithstar2);
			  SekvencialnaIzvorIzvorDrugi(filldatagrid33,filldatagridwithstar2);
			  adjustOdrediste();
			}
			else
			{
			SekvencialnaIzvorIzvorPrvi(filldatagrid22,filldatagridwithstar2);
			SekvencialnaIzvorIzvorDrugi(filldatagrid22,filldatagridwithstar2);
		    adjustOdrediste();
			}

            }

			   function crtajMetodaUzPrenosenje()
            {
            prva_vrijednost = izvor.toString();
            Memorize_point_X.push(x);
            Memorize_point_Y.push(y);
			if (firstselected)
			{
              SekvencialnaIzvorUzPrenosenjePrva(filldatagrid,filldatagridwithstar1);
			  SekvencialnaIzvorUzPrenosenjeDruga(filldatagrid,filldatagridwithstar1);
			  adjustOdrediste();
			}
             else if (thirdselected)// tu staviti else if za trecu tablicu
			{
			  SekvencialnaIzvorUzPrenosenjePrva(filldatagrid33,filldatagridwithstar2);
			  SekvencialnaIzvorUzPrenosenjeDruga(filldatagrid33,filldatagridwithstar2);
			  adjustOdrediste();
			}
			else
			{
			  SekvencialnaIzvorUzPrenosenjePrva(filldatagrid22,filldatagridwithstar2);
			  SekvencialnaIzvorUzPrenosenjeDruga(filldatagrid22,filldatagridwithstar2);
			  adjustOdrediste();
			}
           //GLAVNE 3 METODE U KOJIMA MJENJAMO PARAMETRE------------------------------------------------------------------------------------------

			   }
        // FIXNA METODA---------------------------------------------------------------------------------------------------------------------------
       function crtaj()  // METODA SVIH METODA METODA SVIH METODA METODA SVIH METODA METODA SVIH METODA METODA SVIH METODA
        {
            if(izvor==0 || odrediste==0)
            {
                alert('Unesite broj izvorišta i odredišta');
            }
            else if (izvor==odrediste)
            {
                alert('Izvor i odredište ne mogu biti jednaki');
            }
            else
            {
                if (!already_drawn)
                {
                    already_drawn = true;
                    if (document.getElementById('radio1').checked) {
                        crtajMetodaSekvencialna();
                    }
                    else if (document.getElementById('radio2').checked) {
                        crtajMetodaIzvor();
                    }
                    else {
                        crtajMetodaUzPrenosenje();
                    }
                }
                else { alert('Izbrišite dijagram prije ponovnog crtanja'); }
            }

       }
        // FIXNA METODA---------------------------------------------------------------------------------------------------------------------------
        function clearGraphics()
        {
            var d = document.getElementById("myCanvas");
            var gcd = d.getContext("2d");
            gcd.clearRect(0, 0, myCanvas.width, myCanvas.height);
            checkif2values = [];
            Memorize_point_X = [];
            Memorize_point_Y = [];
            izvorisni_clanovi = [];
            global_destinationX = [];
            global_destinationY = [];
            prva_vrijednost = "";
            vrijednost_noda = [];
            x = 30;
            y = 20;
            angling = 0;
			document.getElementById('broj1').innerHTML = "0";
		    document.getElementById('broj2').innerHTML = "0";
		    varijabla2=0;
		    varijalba=0;
		    odrediste=0;
		    izvor=0;
			checkif2values2=[];
			privremena="";
			xyz=false;
			iz_izvorista=false;
			already_drawn=false;
		    document.getElementById("tablica1").style.background="none";
		    document.getElementById("tablica2").style.background="none";
			mem_tockeX=[];
			mem_tockeY=[];
        }

        var varijalba = 0;
		var varijabla2= 0;

        function povecaj(x) {
		if (firstselected && secondselected==false){document.getElementById("tablica1").style.background="orange";}
		if (firstselected){x=17;}
		else{x=5;}
           if (varijalba>=0 && varijalba <x)
		{
            varijalba = varijalba + 1;
            document.getElementById('broj1').innerHTML = varijalba.toString();
            izvor = varijalba;
		}
        }


        function smanji(x) {
		if (firstselected){x=17;}
		else{x=5;}
		if (varijalba>0 && varijalba <=x)
		{
            varijalba = varijalba - 1;
            document.getElementById('broj1').innerHTML = varijalba.toString();
            izvor = varijalba;
		}
        }


		function povecaj2(x) {
		if (firstselected && secondselected==false){document.getElementById("tablica1").style.background="orange";}
		if (firstselected){x=8;}
		else{x=5;}
		if (varijabla2>=0 && varijabla2<x)
		  {
            varijabla2=varijabla2+1;
            document.getElementById('broj2').innerHTML = varijabla2.toString();
            odrediste = varijabla2;
			}
		}

        function smanji2(x) {
		if (firstselected){x=8;}
		else{x=5;}
		if (varijabla2>0 && varijabla2<=x){
            varijabla2 = varijabla2 - 1;
            document.getElementById('broj2').innerHTML = varijabla2.toString();
            odrediste = varijabla2;
		}


		}
		function odaberiPrvu()
		{
		   document.getElementById("tablica1").style.background="orange";
		   document.getElementById("tablica2").style.background="none";
		   document.getElementById("tablica3").style.background="none";
		   firstselected=true;
		   secondselected=false;
		   thirdselected=false;
		   document.getElementById('broj1').innerHTML = "0";
		   document.getElementById('broj2').innerHTML = "0";
		   varijabla2=0;
		   varijalba=0;
		   odrediste=0;
		   izvor=0;
		}
		function odaberiDrugu()
		{
		   document.getElementById("tablica2").style.background="orange";
		   document.getElementById("tablica1").style.background="none";
		   document.getElementById("tablica3").style.background="none";
		   secondselected=true;
		   firstselected=false;
		   thirdselected=false;
		   document.getElementById('broj1').innerHTML = "0";
		   document.getElementById('broj2').innerHTML = "0";
		   varijabla2=0;
		   varijalba=0;
		   odrediste=0;
		   izvor=0;
		}
		function odaberiTrecu()
		{
		   document.getElementById("tablica2").style.background="none";
		   document.getElementById("tablica1").style.background="none";
		   document.getElementById("tablica3").style.background="orange";
		   thirdselected=true;
		   secondselected=false;
		   firstselected=false;
		   document.getElementById('broj1').innerHTML = "0";
		   document.getElementById('broj2').innerHTML = "0";
		   varijabla2=0;
		   varijalba=0;
		   odrediste=0;
		   izvor=0;
		}

        //ESTETIKA
		function adjustOdrediste()
		{  car = document.getElementById("myCanvas");
           ytong = car.getContext("2d");
		  var max_x=global_destinationX[0];

		  for(var d=0;d<global_destinationX.length;d++)
		  {
		    if (global_destinationX[d] > max_x)
			{
			  max_x=global_destinationX[d];
			}
		  }
		  for(var d=0;d<global_destinationX.length;d++)
		  {
		  if (global_destinationX[d] < max_x)
		  {
            ytong.clearRect(global_destinationX[d]+70, global_destinationY[d]-30, 100, 100);
			ytong.beginPath();
			ytong.arc(global_destinationX[d]+(max_x - global_destinationX[d])+ 110, global_destinationY[d]+ 20,30, 0, 2 * Math.PI);
           	ytong.moveTo(global_destinationX[d]+50,global_destinationY[d]+13);
            ytong.lineTo(global_destinationX[d] + (max_x - global_destinationX[d])+80,global_destinationY[d]+13);
            ytong.font = "30px arial";
            ytong.fillText(odrediste, global_destinationX[d] + (max_x - global_destinationX[d])+80+22, global_destinationY[d]+13+16);
		    var img=document.getElementById("numberpi");
            ytong.drawImage(img, global_destinationX[d] + (max_x - global_destinationX[d])+80+22+45 ,global_destinationY[d]-5);


			if (d==0){  ytong.font = "20px arial";
            ytong.fillText("("+d+")"+". prioritet", global_destinationX[d] + (max_x - global_destinationX[d])+80+122, global_destinationY[d]+13+32);
			}
			else{ ytong.font = "20px arial";
            ytong.fillText("("+d+")"+". alternativni", global_destinationX[d] + (max_x - global_destinationX[d])+80+122, global_destinationY[d]+13+32);}
			ytong.stroke();
		   }
		   else
		   {
		      if (d==0){  ytong.font = "20px arial";
			ytong.drawImage(img, global_destinationX[d] + (max_x - global_destinationX[d])+80+22+45 ,global_destinationY[d]-5);
            ytong.fillText("("+d+")"+". prioritet", global_destinationX[d] + (max_x - global_destinationX[d])+80+122, global_destinationY[d]+13+32);
			ytong.stroke();
			}
			else{ ytong.font = "20px arial";
			ytong.drawImage(img, global_destinationX[d] + (max_x - global_destinationX[d])+80+22+45 ,global_destinationY[d]-5);
            ytong.fillText("("+d+")"+". alternativni", global_destinationX[d] + (max_x - global_destinationX[d])+80+122, global_destinationY[d]+13+32);}
			ytong.stroke();
		   }
		  }

		}
        //ESTETIKA END
		function SekvencialnaIzvorUzPrenosenjePrva(polje,poljesazvjezdom)
			{
			   next_node = new Node(Memorize_point_X[Memorize_point_X.length - 1], Memorize_point_Y[Memorize_point_Y.length - 1], prva_vrijednost);
                next_node.DrawCircleNumber();
                ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 175, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.stroke();
                Memorize_point_X.push(X);
                Memorize_point_Y.push(Y);
                checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                checkif2values2.push(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]);
				if ((checkif2values2[checkif2values2.length-1]).indexOf("*")> -1)
				{
				    var index=parseInt(((poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]).indexOf("*")-1));
					privremena=(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]).substring(index,index+1);
				}
                if (checkif2values[checkif2values.length - 1].length > 1) {
                    var temp = polje[izvor][odrediste];
                    for (j = 1; j < temp.length; j++) {
                        if (temp[j] != ',') {
                            izvorisni_clanovi.push(temp[j].toString());
                        }
                    }
                }
                else if (checkif2values[checkif2values.length - 1] == odrediste.toString()) { return; }
                else if (checkif2values[checkif2values.length - 1].length > 1)
                {
                    var temporary = Memorize_point_X.pop() - 60;
                    Memorize_point_X.pop();
                    Memorize_point_X.push(temporary);
                    return;
                }
                else {
                    Memorize_point_X.pop();
                    Memorize_point_X.push(X += 94);
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0);
                    SekvencialnaIzvorUzPrenosenjePrva(polje,poljesazvjezdom);
                }

			}
			function SekvencialnaIzvorUzPrenosenjeDruga(polje,poljesazvjezdom)
			{
			    do {
                    if (checkif2values[checkif2values.length - 1].length > 1 && checkif2values[checkif2values.length - 1] != polje[izvor][odrediste])
                    {

						if ((checkif2values2[checkif2values2.length-1]).indexOf("*")> -1)
				       {
					         xyz = true;
				             var index=(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]).indexOf("*")-1;
					         privremena=(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]).substring(index,1);
				        }
                    }
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0, 1);
                    if (prva_vrijednost == "X") break;
                    x = Memorize_point_X[Memorize_point_X.length - 1];
                    y = Memorize_point_Y[Memorize_point_Y.length - 1];


                    next_node = new Node(x + 100, y, prva_vrijednost);
                    next_node.DrawCircleNumber();

                    ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 180, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.stroke();

                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
					if (prva_vrijednost==privremena)
					{
					    if (Grananje(polje[parseInt(prva_vrijednost)][odrediste]) > 1)
                    {
                        vrijednost_noda.push(polje[parseInt(privremena)][odrediste].substring(4, 5));
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    }
					    vrijednost_noda.push(polje[parseInt(privremena)][odrediste].substring(2, 3));
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
					}
                    if (prva_vrijednost == odrediste.toString())
                    {
                        global_destinationX.push(X);
                        global_destinationY.push(Y);
                    }
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                    checkif2values2.push(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]);
                } while (prva_vrijednost != odrediste.toString());

                //------------------------------------------------------------------------------- Main metoda
                if (vrijednost_noda.length == 0 && xyz == true) { xyz = false; return; }

                for (var k = vrijednost_noda.length - 1; k >= 0; k--)
                {
                    if (mem_tockeX.length != 0 && mem_tockeY.length!=0)
                    {
                        if (vrijednost_noda.length != 0)
                        {
                            next_node = new Node(mem_tockeX[mem_tockeX.length - 1] + 80, global_destinationY[global_destinationY.length - 1] + 90, vrijednost_noda[k]);
                            next_node.DrawCircleNumber();


                            ctx.moveTo(mem_tockeX[mem_tockeX.length-1]+120,mem_tockeY[mem_tockeY.length-1]+45);
                            ctx.lineTo(X+104,Y-7);
                            ctx.stroke();

                            mem_tockeX.pop();
                            mem_tockeY.pop();
                            Memorize_point_X.push(X);
                            Memorize_point_Y.push(Y);
                            prva_vrijednost = vrijednost_noda[k];
                            vrijednost_noda.pop();
                            checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
							checkif2values2.push(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]);
							SekvencialnaIzvorUzPrenosenjeDruga(polje, poljesazvjezdom);



                        }
                    }
                }
                if (izvorisni_clanovi.length != 0)
                {
                    next_node = new Node(Memorize_point_X[0] + 55 - angling, Memorize_point_Y[0] + global_destinationY[global_destinationY.length - 1] + 70, izvorisni_clanovi[0]);
                    angling += 20;
                    next_node.DrawCircleNumber();
                    //Conekcija linija Node.ConnectionLine(g, new Point(Memorize_point_X1.First() + 22, Memorize_point_Y1.First() + 28), new Point(next_node.X + 8, next_node.Y + 2));
                    ctx.moveTo(Memorize_point_X[0]+110,Memorize_point_Y[0]+50);
                    ctx.lineTo(X + 100, Y-6);
                    ctx.stroke();
                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
                    prva_vrijednost = izvorisni_clanovi[0];
					if (prva_vrijednost==privremena)
					{
					    vrijednost_noda.push(polje[parseInt(privremena)][odrediste].substring(2, 3)); // inace briem da to trea mjenjat
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
					}
                    izvorisni_clanovi.shift();
                    mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                    mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
					checkif2values2.push(poljesazvjezdom[parseInt(prva_vrijednost)][odrediste]);
					SekvencialnaIzvorUzPrenosenjeDruga(polje, poljesazvjezdom);
                }

			}
			function SekvencialnaIzvorIzvorPrvi(polje,poljesazvjezdom)
			{
			     next_node = new Node(Memorize_point_X[Memorize_point_X.length - 1], Memorize_point_Y[Memorize_point_Y.length - 1], prva_vrijednost);
                next_node.DrawCircleNumber();
                ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 175, Memorize_point_Y[Memorize_point_Y.length - 1] + 13);
                ctx.stroke();
                Memorize_point_X.push(X);
                Memorize_point_Y.push(Y);
                checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                //checkif2values2.push(filldatagrid2[parseInt(prva_vrijednost),odrediste]);
                if (checkif2values[checkif2values.length - 1].length > 1) {
				    iz_izvorista=true;
                    var temp = polje[izvor][odrediste];
                    for (j = 1; j < temp.length; j++) {
                        if (temp[j] != ',') {
                            izvorisni_clanovi.push(temp[j].toString());
                        }
                    }
                }
                else if (checkif2values[checkif2values.length - 1] == odrediste.toString()) { return; }
                else if (checkif2values[checkif2values.length - 1].length > 1) {
				    iz_izvorista=true;
                    var temporary = Memorize_point_X.pop() - 60;
                    Memorize_point_X.pop();
                    Memorize_point_X.push(temporary);
                    return;
                }
                else {
				   iz_izvorista=true;
                    Memorize_point_X.pop();
                    Memorize_point_X.push(X += 94);
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0);
                    SekvencialnaIzvorIzvorPrvi(polje,poljesazvjezdom);
                }
			}
			function SekvencialnaIzvorIzvorDrugi(polje,poljesazvjezdom)
			{
			    do {
                    if (checkif2values[checkif2values.length - 1].length > 1 && checkif2values[checkif2values.length - 1] != polje[izvor][odrediste])
                    {
                        xyz = true;
                        vrijednost_noda.push(checkif2values[checkif2values.length - 1].substring(2, 3));
                        mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                        mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    }
                    prva_vrijednost = polje[parseInt(prva_vrijednost)][odrediste].substring(0, 1);
                    if (prva_vrijednost == "X") break;
                    x = Memorize_point_X[Memorize_point_X.length - 1];
                    y = Memorize_point_Y[Memorize_point_Y.length - 1];


                    next_node = new Node(x + 100, y, prva_vrijednost);
                    next_node.DrawCircleNumber();

                    ctx.moveTo(Memorize_point_X[Memorize_point_X.length - 1] + 139, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.lineTo(Memorize_point_X[Memorize_point_X.length - 1] + 180, Memorize_point_Y[Memorize_point_Y.length - 1]+13);
                    ctx.stroke();

                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
                    if (prva_vrijednost == odrediste.toString())
                    {
                        global_destinationX.push(X);
                        global_destinationY.push(Y);
                    }
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                    //checkif2values2.push(filldatagrid2[parseInt(prva_vrijednost),odrediste]);
                } while (prva_vrijednost != odrediste.toString());

                //------------------------------------------------------------------------------- Main metoda
                if (vrijednost_noda.length == 0 && xyz == true) { xyz = false; return; }

                for (var k = vrijednost_noda.length - 1; k >= 0; k--)
                {
				if (iz_izvorista==false)
				 {
                    if (mem_tockeX.length != 0 && mem_tockeY.length!=0)
                    {
                        if (vrijednost_noda.length != 0)
                        {
                            next_node = new Node(mem_tockeX[mem_tockeX.length - 1] + 80, global_destinationY[global_destinationY.length - 1] + 90, vrijednost_noda[k]);
                            next_node.DrawCircleNumber();


                            ctx.moveTo(mem_tockeX[mem_tockeX.length-1]+120,mem_tockeY[mem_tockeY.length-1]+45);
                            ctx.lineTo(X+104,Y-7);
                            ctx.stroke();

                            mem_tockeX.pop();
                            mem_tockeY.pop();
                            Memorize_point_X.push(X);
                            Memorize_point_Y.push(Y);
                            prva_vrijednost = vrijednost_noda[k];
                            vrijednost_noda.pop();
                            checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                            SekvencialnaIzvorIzvorDrugi(polje,poljesazvjezdom);



                        }
                    }
                 }
				}
                if (izvorisni_clanovi.length != 0)
                {
                    next_node = new Node(Memorize_point_X[0] + 55 - angling, Memorize_point_Y[0] + global_destinationY[global_destinationY.length - 1] + 70, izvorisni_clanovi[0]);
                    angling += 20;
                    next_node.DrawCircleNumber();
                    //Conekcija linija Node.ConnectionLine(g, new Point(Memorize_point_X1.First() + 22, Memorize_point_Y1.First() + 28), new Point(next_node.X + 8, next_node.Y + 2));
                    ctx.moveTo(Memorize_point_X[0]+110,Memorize_point_Y[0]+50);
                    ctx.lineTo(X + 100, Y-6);
                    ctx.stroke();
                    Memorize_point_X.push(X);
                    Memorize_point_Y.push(Y);
                    prva_vrijednost = izvorisni_clanovi[0];
                    izvorisni_clanovi.shift();
                    mem_tockeX.push(Memorize_point_X[Memorize_point_X.length - 1]);
                    mem_tockeY.push(Memorize_point_Y[Memorize_point_Y.length - 1]);
                    checkif2values.push(polje[parseInt(prva_vrijednost)][odrediste]);
                    SekvencialnaIzvorIzvorDrugi(polje,poljesazvjezdom);
                }
			}
	     function Grananje(grana)
        {
            var counterneki = 0;
            for (var i = 0; i < grana.length; i++)
            {
                if (grana[i] == ',')
                {
                    counterneki++;
                }

            }
            return counterneki;
        }
    </script>

</head>
<body>
    <h3 style="position:relative; left:11%;"><b>Strategija usmjeravanja (TTKP2)</b></h3>
    <h5 style="position:relative; left:11%;"> <b>Odaberite tablicu:</b></h5>
    <img id="tablica1" src="1tablica.png" onclick="odaberiPrvu()" width="280" height="160" style="position:absolute; left:310px; top:55px; padding:3px;" />
    <img id="tablica2" src="2tablica.png" onclick="odaberiDrugu()" width="250" height="110" style="position:absolute; left:600px; top:85px; border:1px solid grey; padding:3px;" />
    <img id="tablica3" src="3tablica.png" onclick="odaberiTrecu()" width="250" height="110" style="position:absolute; left:870px; top:85px; border:1px solid grey; padding:3px;" />
    <div style="position:absolute; top:130px; left:-40px;">
        <div>
            <input type="radio" name="radio" id="radio1" onclick="" class="radio" checked />
            <label for="radio1">Sekvencijalna</label>
        </div>

        <div>
            <input type="radio" name="radio" onclick="" id="radio2" class="radio" />
            <label for="radio2">Izvorište</label>
        </div>

        <div>
            <input type="radio" name="radio" onclick="" id="radio3" class="radio" />
            <label for="radio3">Izvor uz prenošenje</label>
        </div>
    </div>
    <div class="canvas-container">
        <canvas id="myCanvas"  style="margin-bottom:40px;border:3px solid #d3d3d3;position:absolute;left:0px; top:230px;border-radius:5px;">
            Your browser does not support the HTML5 canvas tag.
        </canvas>
        </div>
        <p style="position:absolute; left:150px; top:350px;"> Izvor</p>
        <img id="up1" src="up.png" onclick="povecaj()" width="40" height="45" style="position:absolute; left:59px; top:380px;" />
        <img id="down1" src="down.png" onclick="smanji()" width="40" height="45" style="position:absolute; left:230px; top:380px;" />
        <p id="broj1" style="position:absolute; left:162px; top:365px; font-weight:bold; font-size:35px;"> 0</p>
        <p style="position:absolute; left:135px; top:478px;">Odredište</p>
        <img id="up2" src="up.png" onclick="povecaj2()" width="40" height="45" style="position:absolute; left:59px; top:510px;" />
        <img id="down2" src="down.png" onclick="smanji2()" width="40" height="45" style="position:absolute; left:230px; top:510px;" />
        <p id="broj2" style="position:absolute; left:162px; top:495px; font-weight:bold; font-size:35px;"> 0</p>
        <a href="#" class="myButton" onclick="crtaj();" style="position:absolute; left:35px; top:590px;">Crtaj</a>
        <a href="#" class="myButton" onclick="clearGraphics();" style="position:absolute; left:170px; top:590px;">Briši</a>
        <img id="numberpi" src="pi.png" width="40" height="45" style="position:absolute; right:350px; top:510px;visibility:hidden;" />
</body>
</html>
<!-- Hosting24 Analytics Code -->
<script type="text/javascript" src="http://stats.hosting24.com/count.php"></script>
<!-- End Of Analytics Code -->
